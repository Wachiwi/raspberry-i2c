<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Raspberry Project - I2C Sensor Application: raspberry-i2c/i2c.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Raspberry Project - I2C Sensor Application
   &#160;<span id="projectnumber">v.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d8a5b3fdebc60e1a6623d7e509f40b09.html">raspberry-i2c</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">i2c.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;sys/ioctl.h&gt;</code><br />
<code>#include &lt;linux/i2c-dev.h&gt;</code><br />
</div>
<p><a href="a00002_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adae05de4a9f62ea1244bb3517276ebbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#adae05de4a9f62ea1244bb3517276ebbf">open_i2c_bus</a> ()</td></tr>
<tr class="memdesc:adae05de4a9f62ea1244bb3517276ebbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header file that declares some wrapper methods to simplify the usage of the i2c for this application.  <a href="#adae05de4a9f62ea1244bb3517276ebbf">More...</a><br /></td></tr>
<tr class="separator:adae05de4a9f62ea1244bb3517276ebbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2a6024ef26dd6f1cec5c2fa6d0e9ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#a5d2a6024ef26dd6f1cec5c2fa6d0e9ab">init_i2c</a> (int)</td></tr>
<tr class="memdesc:a5d2a6024ef26dd6f1cec5c2fa6d0e9ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializing the i2c bus and the communication to a particular device.  <a href="#a5d2a6024ef26dd6f1cec5c2fa6d0e9ab">More...</a><br /></td></tr>
<tr class="separator:a5d2a6024ef26dd6f1cec5c2fa6d0e9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7714d7a2896d083f38857c7a22cda5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#ada7714d7a2896d083f38857c7a22cda5">read_i2c_byte_data</a> (int *, uint8_t)</td></tr>
<tr class="memdesc:ada7714d7a2896d083f38857c7a22cda5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple wrapper method that makes use of the native i2c fucntions and adds minor error handling.  <a href="#ada7714d7a2896d083f38857c7a22cda5">More...</a><br /></td></tr>
<tr class="separator:ada7714d7a2896d083f38857c7a22cda5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87a45bcc9c7938fbb0b1054b52fefc73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#a87a45bcc9c7938fbb0b1054b52fefc73">read_i2c_block</a> (int *, uint8_t)</td></tr>
<tr class="separator:a87a45bcc9c7938fbb0b1054b52fefc73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9518b766b2194f8571eb155d2f928a12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#a9518b766b2194f8571eb155d2f928a12">write_i2c_byte_data</a> (int *, uint8_t, uint8_t)</td></tr>
<tr class="memdesc:a9518b766b2194f8571eb155d2f928a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple wrapper method that makes use of the native i2c fucntions and adds minor error handling.  <a href="#a9518b766b2194f8571eb155d2f928a12">More...</a><br /></td></tr>
<tr class="separator:a9518b766b2194f8571eb155d2f928a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e437b258e553cb93e3ceb07c47a887"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#ac0e437b258e553cb93e3ceb07c47a887">write_i2c_block</a> (int *, uint8_t)</td></tr>
<tr class="separator:ac0e437b258e553cb93e3ceb07c47a887"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5d2a6024ef26dd6f1cec5c2fa6d0e9ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_i2c </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializing the i2c bus and the communication to a particular device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>- The address of the device you want to connect to concerning the datasheet</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the the id of the file handle (int &gt; 0) if everything was sucessfull. It returns a negative integer if an error occurred. See the documentation of the 'open_i2c_bus' method below. </p>

</div>
</div>
<a class="anchor" id="adae05de4a9f62ea1244bb3517276ebbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int open_i2c_bus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Header file that declares some wrapper methods to simplify the usage of the i2c for this application. </p>
<p>Further all necessary headers are included.</p>
<p>Header file that declares some wrapper methods to simplify the usage of the i2c for this application.</p>
<p>Returns a file descriptor (int &gt; 0) if everything went right. Otherwise it returns an int less than 0. -1 - Could not open i2c bus. See stderr for more information. </p>

</div>
</div>
<a class="anchor" id="a87a45bcc9c7938fbb0b1054b52fefc73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_i2c_block </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ada7714d7a2896d083f38857c7a22cda5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_i2c_byte_data </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple wrapper method that makes use of the native i2c fucntions and adds minor error handling. </p>
<p> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*fd</td><td>- Pointer to a integer that contains the file handle  </td></tr>
    <tr><td class="paramname">command</td><td>- Contains the hex command you want to send to the device</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the data (int &gt; 0) if everything went right. Otherwise it returns an int less than 0. For more information about errors look at the stderr or the I2C and SMBus Subsystem documentation of the linux kernel. Search for 'i2c_smbus_read_byte_data'. </p>

</div>
</div>
<a class="anchor" id="ac0e437b258e553cb93e3ceb07c47a887"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_i2c_block </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9518b766b2194f8571eb155d2f928a12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_i2c_byte_data </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple wrapper method that makes use of the native i2c fucntions and adds minor error handling. </p>
<p> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*fd</td><td>- Pointer to a integer that contains the file handle  </td></tr>
    <tr><td class="paramname">command</td><td>- Contains the hex command you want to send to the device. In this case commonly a register.  </td></tr>
    <tr><td class="paramname">value</td><td>- Contains the value you want to set</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the data (int &gt; 0) if everything went right. Otherwise it returns an int less than 0. For more information about errors look at the stderr or the I2C and SMBus Subsystem documentation of the linux kernel. Search for 'i2c_smbus_write_byte_data'. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
